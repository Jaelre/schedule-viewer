# Cloudflare Pages Configuration
# This configures service bindings for Pages Functions

name = "schedule-viewer"
compatibility_date = "2024-01-01"
pages_build_output_dir = "out"

# Service binding: allows Pages Functions to call the Worker
# The Pages Function at functions/api/[[path]].ts uses env.WORKER to proxy requests

# Production environment - binds to production Worker
[[services]]
binding = "WORKER"
service = "schedule-viewer-worker"

# Preview environment - binds to separate preview Worker service
# This ensures preview builds use preview R2 buckets and configs
[env.preview]
[[env.preview.services]]
binding = "WORKER"
service = "schedule-viewer-worker-preview"
